<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <title>Calculadora JBD</title>
    <link rel="stylesheet" href="style.css" />
    <style>
        /* Classe reutilizável para botões de destaque */
        .btn-destaque {
            background-color: #28a745;
            color: white;
            font-weight: bold;
            border: 2px solid #1e7e34;
            transition: background-color 0.3s, transform 0.2s;
        }

        .btn-destaque:hover:not(:disabled) {
            background-color: #218838;
            transform: scale(1.02);
        }

        .btn-destaque:disabled {
            background-color: #ccc;
            border-color: #999;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <img src="logo.png" alt="Logo JBD" class="logo" />
            <h1>Simule aqui o Valor para Regularizar seu Lote</h1>
        </header>
        <main>
            <div class="form-group">
                <label for="municipio">Município:</label>
                <select id="municipio">
                    <option value="">Carregando municípios...</option>
                </select>
            </div>
            <div class="form-group">
                <label for="tipo">Tipo de Imóvel:</label>
                <select id="tipo">
                    <option value="residencial">Residencial</option>
                    <option value="nao_residencial">Não Residencial</option>
                </select>
            </div>
            <div class="form-group">
                <label for="metragem">Metragem Total (m²):</label>
                <input type="number" id="metragem" min="1" placeholder="Digite a metragem" />
            </div>
            <div class="form-group">
                <label for="forma_pagamento">Forma de Pagamento:</label>
                <select id="forma_pagamento"></select>
            </div>
            <div class="buttons">
                <button id="calcular" class="btn calcular">CALCULAR</button>
                <button id="limpar" class="btn limpar">LIMPAR</button>
                <!-- Novo botão para abrir a adesão, inicialmente desabilitado -->
                <button id="botaoAdesao" class="btn btn-destaque" disabled>QUERO ME CADASTRAR</button>
            </div>
            <section id="resultado"></section>
        </main>
        <footer>
            <p>Versão: v2.1.3</p>
        </footer>
    </div>
    <script src="script.js"></script>
    <script>
        // Desabilita botão "QUERO ME CADASTRAR" até que o cálculo seja feito
        const btnAdesao = document.getElementById('botaoAdesao');
        btnAdesao.disabled = true;

        const btnCalcular = document.getElementById('calcular');
        const btnLimpar = document.getElementById('limpar');

        btnCalcular.addEventListener('click', () => {
            // Habilita o botão somente após tentativa de cálculo válida
            const tipo = document.getElementById('tipo').value;
            const metragem = parseInt(document.getElementById('metragem').value);
            const forma = document.getElementById('forma_pagamento').value;

            if (tipo && metragem && forma) {
                btnAdesao.disabled = false;
            }
        });

        btnLimpar.addEventListener('click', () => {
            // Limpar também desativa o botão de adesão
            btnAdesao.disabled = true;
        });
    </script>
</body>
</html>
